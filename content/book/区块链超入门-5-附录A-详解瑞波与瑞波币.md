+++
title = "区块链超入门-5-附录A-详解瑞波和瑞波币(区块链与跨国转账)"
date = "2021-05-09T00:00:10+08:00"
tags = ["区块链超入门"]
slug = "区块链超入门-5-附录A-详解瑞波和瑞波币(区块链与跨国转账)"

+++

瑞波(Ripple)是区块链在金融领域里应用的典型,它试图用区块链技术解决真实世界中的一个难题——跨国汇款。瑞波币（XRP）是当前总市值排名第三的数字货币，仅次于比特币与以太币。但在讨论区块链时，瑞波与瑞波币常被排除在外，这是缘于它的运作方式与比特币、以太坊截然不同，多数人对它知之甚少。

这里，我们以案例讨论的方式尝试理解瑞波与瑞波币：它们是什么？它要解决什么问题？它是如何解决问题的？

瑞波公司和瑞波币有着复杂、难解的关系，它们共用一个名字，但瑞波公司反复强调：瑞波公司和瑞波币是两回事。这么强调是必要的，这一方面确认了瑞波是加密数字货币，专门用于支付；另一方面避免了瑞波币被视为与瑞波公司业绩挂钩的股票或证券。

那么瑞波公司是什么？瑞波币是什么？这就要从头说起。

## 瑞波：从协议到生态

瑞波的历史最早可以追溯到2004年，加拿大温哥华的软件开发者瑞恩 · 富杰尔（Ryan Fugger）发明了用于互联网支付的瑞波支付协议（RipplePay）。

2011年，基于这个想法，同时看到在2009年出现的比特币优点与不足，杰德 · 麦凯莱布（Jed McCaleb）开始借鉴比特币的设计，开发一个不一样的数字货币系统：比特币依靠计算机的算力挖矿来达成共识，瑞波则依靠成员间的共识来确认交易事务。

2012年，瑞波公司正式成立，当时名字叫OpenCoin，后来改为瑞波实验室。2012年，克里斯 · 拉森（Chris Larsen）和杰德 · 麦凯莱布一起劝说瑞恩 · 富杰尔和瑞波社区同意，成立了这家公司，由克里斯 · 拉森担任CEO。这家公司的早期投资者有谷歌创投和硅谷知名风险投资公司A16Z等。

瑞波公司开始开发名为 ”瑞波交易协议“（Ripple Transaction Protocol，也可简称瑞波协议）的新支付协议：

（1）两个用户之间可以即时、直接转账，无须任何中介。

（2）通过它，人们可以进行各种货币或类货币的转账，比如美元、欧元、日元、人民币、黄金、航空里程等。

（3）它是基于区块链技术开发的，有着一个由网络中的服务器共同维护的共同账本，服务器不一定属于瑞波公司，而可以属于任何人，比如银行等金融机构。

（4）模仿比特币，它基于区块链推出了自己的数字货币瑞波币（XRP），以帮助金融机构进行转账。

2013年9月，这家公司正式更名为瑞波，并宣布，瑞波的服务器和客户端全部开放源代码。这么做是在开源社区和公司之间再做一次角色的区分。瑞波的主要开源技术是与瑞波币相关的瑞波币账本（XRP Leger），它自称是一个”分布式的加密账本“。

> 注释：瑞波币账本的开发者门户：https://developers.ripple.com/。
>
> 瑞波再gitHub上的开源地址：https://github.com/ripple。

而这家商业公司的运作重心变为主攻跨国汇款，与银行金融机构合作，将瑞波协议融入已有的金融IT系统。它的全球金融合作伙伴有美国运通、加拿大皇家银行、埃森哲等。在亚洲，它还与日本的银行SBI合资公司SBI Ripple Asia株式会社，并组建一个包括40多家会员的日本银行业联盟，会员单位管理超过80%以上的日本银行资产。

到此，瑞波从一个支付协议发展成为一个生态（见图A-1）：属于社区的开源软件、提供商业产品的瑞波公司，以及数字货币瑞波币（XRP）。其中，瑞波公司是开源代码的主要贡献者，持有大量的瑞波币。这三者共同运行一个瑞波区块链，又称为瑞波网（RippleNet）。

瑞波生态包括三个层次：

- 第一个层次是抽象的全球支付协议。
- 第二个层次由开源软件、瑞波公司、瑞波币共同组成。
- 第三个层次是由众多银行金融机构组成的社区联盟，联盟成员也参与瑞波区块链的运作。

![See the source image](C:\Users\jiaoj\Desktop\current\rorrim\static\images\ripplenet.png)

图 A-1 瑞波的组成

瑞波所建立的全球支付网络瑞波网，是典型的实时全额支付系统（real time gross settlement，RTGS），是按照国际标准建立的跨银行电子转账系统。在其主要应用的跨国汇款领域，瑞波网也可被看成银行业通行的环球银行金融电信协会（SWIFT）系统的有力竞争者。

## 瑞波公司的角色

瑞波公司是瑞波生态的核心：它是瑞波协议的发明者，是开源代码的主要贡献者，是瑞波网这个区块链网络的核心运营者，也为开源软件提供技术支持，如运营开发者门户。除此之外，瑞波公司还有两个重要角色。

### 瑞波公司的重要角色之一：提供商业化产品

瑞波公司提供了三种解决方案，来帮金融机构或公司接入瑞波区块链网络。这三种解决方案分别是：

- 协助银行处理全球支付的xCurrent。
- 帮支付服务商提供流动性的xRapid。
- 帮普通公司接入瑞波网进行支付的xVia。

### 瑞波公司的重要角色之二：瑞波币的”管理人“

瑞波公司的另一个重要角色涉及瑞波币（XRP）。瑞波币是一种采用区块链技术发行的加密数字货币，但是仅仅用于瑞波区块链网络内部的交易媒介。它的网站上曾有这样一段话介绍瑞波币：类似于比特币，瑞波币存在于瑞波区块链网络中，是一种没有交易对手的货币。

> 注释：根据瑞波网站只是中心的信息，网站在”基于数学的货币“中写道：’XRP exists natively within the Ripple protocol as a counterparty-free currency,as Bitcoin does on the Blockchain.Because XRP is an asset,as opposed to a redeemable balance,it does not require that users trust any specific financial institution to trade or exchange it. All other currencies on Ripple do require some amount of trust,as they each have an issuer,from whom that currency can be redeemed (this includes BTC on the Ripple network).‘
>
> 网址为：https://web.archive.org/web/20150330112457/https://ripple.com/knowledge_center/math-based-currency/
>
> XRP作为一种无交易对手的货币存在于瑞波协议中，就像比特币在区块链上一样。因为XRP是一种资产，而不是可赎回的余额，它不需要用户信任任何特定的金融机构来交易或交换它。瑞波上的所有其他货币都需要一定程度的信任，因为它们都有一个发行者，可以从他那里赎回这种货币（包括瑞波网络上的BTC）

瑞波币一共发行了1000亿枚，与比特币、以太坊等随着时间的推移直接增发不同，在创建时，所有的1000亿枚瑞波币都直接发行出来了，且根据规则将永不再增发。

瑞波币的创建者也就是瑞波公司的创始团队给自己留下了200亿枚，而将另外的800亿枚交给瑞波公司管理。

至今，瑞波公司仍拥有60%以上的瑞波币。这正是为什么我们认为瑞波公司的重要角色是瑞波币的”管理人“。

不管在传统的世界，还是在区块链世界，这都是一个我们不熟悉的角色。按常见的逻辑，我们无法解释这种安排。

从公司证券的角度看，瑞波币反映的不是瑞波公司的股权价值，按2018年6月瑞波币0.67美元/枚的价格，这部分瑞波币总价值为536亿美元，瑞波公司作为一家公司远没有这样的价值。

从货币的角度看，发行1000亿枚的瑞波币，然后将其中的80%交给一家公司或机构分配与使用，也不是现代国家发行货币的逻辑。

按区块链世界的逻辑，比特币、以太坊等的核心是强调去中心化，而不会把数字货币交由某个中心化机构管理。区块链项目的通常做法大体上分为两个阶段：第一个阶段是在开发者、投资者和其它贡献者之间进行分配；第二个阶段是由区块链上预先确定的规则进行增发，也包括通过回收减少整体流通量。其中，比特币没有第一个阶段，而以太坊明确分为两个阶段，但共同点是均没有一个数字货币的中心化管理人角色。

现在，瑞波公司持有610亿枚瑞波币，其他390亿枚在公开市场上自由流通与交易。为了应对批评，瑞波公司将自己持有的瑞波币中的550亿枚存入了一个托管账户。

现在看来，瑞波公司所持有的瑞波币有以下三种用途：

一是售卖给加入瑞波网络的合作伙伴。比如，在瑞波网络中交易不需要瑞波币，但每个节点需要至少20个瑞波币以反垃圾用途，避免有人恶意占用网络资源。

二是将瑞波币赞助给技术社区或学术机构，以推动瑞波区块链网络的应用。比如，瑞波公司在2013年曾给出2000万枚瑞波币，2018年5月它宣布建立一个5000万美元的赞助基金，资助包括普林斯顿、MIT等在内的17所世界知名大学的区块链研究。

三是瑞波公司利用瑞波币作为自身的运营费用。在2018年3月，瑞波公司公关传播负责人告诉媒体，每个月有1亿枚瑞波币被从托管账户中释放给瑞波公司，上个月公司使用了价值不到1000万美元的瑞波币，而剩下的瑞波币被存入一个新的托管账户。

## 瑞波公司解决什么问题？是如何解决的

瑞波公司为银行提供多个解决方案，其中最广为人知的是跨国汇款。银行等金融机构采用它的企业级软件，即名为xCurrent的结算系统，可以解决跨国转账的两个核心问题：时间长、成本高。

> 注释：xCurrent解决方案介绍页面：https://ripple.com/solutions/process-payments/；解决方案简介：https://ripple.com/files/ripple_solutions_guide.pdf;产品技术详解:https://ripple.com/files/ripple_product_overview.pdf。另外在解决方案页面中的视频介绍较为直观地介绍了跨国转账的过程。

现在，跨国转账所使用的主要是SWIFT系统，这个系统主要是协助银行处理信息传递。瑞波的xCurrent软件可以看成是对它的一种改进，银行等金融机构可以将它集成到自己的IT系统中去。按瑞波公布的比较数据，它可以将跨国汇款的成本降低60%。

我们先一般性地讨论跨国转账，从一个假设案例看跨国汇款的具体流程。之后，我们再看瑞波的xCurrent软件的组成和相关技术。

现在的跨国汇款并不真正涉及资金的跨境流动，而仅仅是在不同的银行上进行账本的处理。

假设，在美国的客户甲通过美国的银行A，汇款给在阿根廷的银行B开设账户的客户乙。

再假设，阿根廷的银行B没有再美国开展业务。

接着又可以再分以下两种情况。

一是银行B已经与银行A达成合作协议，它再银行A开设了往来账户（国外同业账户）。在这种情况下，在收到客户甲的付款后，银行A向该账户存入转化成阿根廷比索的资金，两个银行间进行转账的信息操作，但不涉及资金的跨境流动。之后，银行B在阿根廷将资金支付给客户乙，一次跨国汇款就完成了。（见图A - 2）

![image-20210409003042155](C:\Users\jiaoj\Desktop\current\rorrim\static\images\image-20210409003042155.png)

图A-2 跨国转账的银行结算

二是银行B和银行A没有往来关系，而仅与银行C有往来关系，在银行C开设了往来账户。这时跨国汇款就需要C的加入。银行A和银行B之间通过本国的银行间支付系统进行转账。之后，银行C和银行B再进行资金的结算。

> 注释：比如在中国，银行间转账有大额支付系统（high value payment system，HVPS）、小额支付系统（bulk electronic payment system，BEPS）等。

跨国汇款并不真正涉及资金的跨境流动，而主要是依托SWIFT系统进行信息传递，从而进行清算（clearing），然后各个银行更新自己的账本，完成资金结算（settlement）。

通常，跨国汇款的流程比这个假设案例要复杂得多，涉及更多方。这样的跨国汇款流程带来的弊端有：整个流程漫长，即便在SWIFT系统的协助下也是如此；成本高昂，银行要在国外银行设立往来账户，涉及大量的处理成本与资金沉淀成本。

瑞波的xCurrent软件帮助银行做的就是和SWIFT系统一样的通信，以及基于区块链的实时结算，以减少跨国汇款的成本（见图A-3）.

![See the source image](C:\Users\jiaoj\Desktop\current\rorrim\static\images\xCurrent.png)

图A - 3 瑞波xCurrent的工作逻辑

银行部署了瑞波xCurrent软件后，两个银行间的跨国汇款所经历的流程如图A-4所示，总体上分为以下两个阶段：

- 第一个阶段：两个银行通过信使（messenger）进行信息交换。
- 第二个阶段：两个银行经由瑞波的ILP分类账、外汇行情、验证器，进行账本的处理，完成资金在区块链账本上的结算。

> 注释：ILP是瑞波开发的开源协议InterLedger Protocol，InterLedger项目地址为：https://interledger.org/。

要注意的是，这是一个为了便于理解而制作的简略图示，如果两个银行之间没有往来账户关系，那么仍然需要多个银行金融机构参与，以完成资金的结算。

从图A-3中可以看到，瑞波xCurrent软件的四个核心组件分别是：

> 注释：资料来源：xCurrent产品概述（中文版），2017年10月。

信使（messenger），它可以连接到收款银行的实时信使，就交易信息、支付费用、外汇汇率、支付细节和预期的资金交付时间进行信息交换。

xCurrent分类账（ILP Ledger），是每个交易银行总帐本的分类账本，被用来追踪交易各方的信贷、借记和流动资金。它使交易各方能够以原子方式结算资金，这意味着无论涉及多少参与方，整个交易要么即时结算，要么全部不结算。它以毫秒为单位完成资金结算。

验证器（validator），是以加密方式确认付款成功或失败的组件，协调各交易方xCurrent分类账上的资金流动。银行可以选择将自己的验证器应用于所有交易中，或者依赖于交易对方运行的验证器。

外汇行情（FX ticker），是xCurrent的组成部分，通过流动资金提供商发布外汇汇率。

要注意的是，在银行部署瑞波的xCurrent软件进行跨国转账时，用到了区块链的分布式账本技术，但并没有用到加密数字货币瑞波币。

瑞波一共提供了三种解决方案，在另外的解决方案中则用到了瑞波币。瑞波在为跨国汇款提供流动性的xRapid中，采用了瑞波币来进行货币转换。xRapid目前仍处在开发阶段，现在有西联汇款（Western Union）和速汇金（MoneyGram）在参与试用。不过，瑞波币的价格波动可能与它的这个功能是相悖的，价格波动可能对银行来说意味着资产损失的可能，对此瑞波解释说，金融机构不需要大量持有瑞波币，而只需要在转换时用它做交换媒介，这就降低了它们因持有价格波动的瑞波币而遭受损失的可能性。

总的来说，瑞波公司最初拟采用瑞波币和瑞波网来进行跨国汇款，但之后选择了提供xCurrent软件以更好地服务现有的银行客户，而瑞波币的实际应用目前仍处在早期。

