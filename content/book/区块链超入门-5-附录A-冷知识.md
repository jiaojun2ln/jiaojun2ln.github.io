+++
title = "区块链超入门-5-附录A-冷知识-瑞波跨国汇款的流程"
date = "2021-05-09T01:00:10+08:00"
tags = ["区块链超入门"]
slug = "区块链超入门-5-附录A-冷知识-瑞波跨国汇款的流程"

+++

具体来说,利用瑞波的xCurrent系统进行一次跨国汇款要经过五个步骤。

第一步：发起支付（payment initiation）。

第二步：交易前验证（pre-transaction validation）。

第三步：用加密技术搁置资金（cryptographic hold of fund）。

第四步：结算（settlement）。

第五步：确认（confirmation）。

我们再来看瑞波xCurrent产品概述文档中的一个具体的例子，详细了解跨国汇款的工作流程。我们假设，两个银行都部署了瑞波的xCurrent软件系统，都可以通过它汇出和接收付款，发款或收款机构均可提供流动资金。

美国的A公司需要支付欧洲欧元区的B公司共计100欧元。A公司在美国的美元银行中开设有一个账户，B公司在欧盟的欧元银行中开设有一个账户。

为了使跨货币汇款通过xCurrent流通，银行可以利用其现有的与其他银行的往来账户关系，通过其外汇交易部门或外部做市商提供外汇流动资金。

每家银行设立一个独立账户，其余额反映在xCurrent分类账上。流动资金提供商将提供4万欧元可用资金用作瑞波交易的支付款。

> 注释：后面的内容是对瑞波xCurrent产品概述文档中示例的简化，这里引述是为了了解它的工作流程。

## 付款流程：汇款报文处理

如果一笔付款由A公司发起，两家银行的信使会交换有关A公司和B公司的信息，以便进行了解客户（KYC）/反洗钱（AML）等必需流程。

发款方的信使也会询问欧元银行有关交付B公司付款的处理费用。它要从流动资金提供商那里获得汇率信息。美元银行的信使编辑获得的信息，加上它自己的处理费用，告知交易所需的全部费用。

假设美元银行的费用为5美元，欧元银行的费用为5欧元，而欧元 / 美元的汇率为1.1429，则向B公司汇出100欧元的总成本为125 （=（100+5）* 1.1429 + 5）美元。

## 付款流程：汇款结算之资金搁置

一旦A公司接受要价，付款就开始了。美元银行扣除A公司的账户金额125美元，收取5美元的费用，并贷记120美元至独立账户。

这些资金尚未贷机给流动资金提供商。它们会被搁置，直到欧元银行向验证器（validator）提供证明，证实它也把资金搁置并能转到B公司。

欧元银行将105欧元搁置，并向验证器提供加密收据（见图 A - 4）.

![image-20210409191923536](C:\Users\jiaoj\Desktop\current\rorrim\static\images\image-20210409191923536.png)

图A - 4 账本变化

## 付款流程：汇款结算之验证

这将启动验证器指示美元银行将来自A公司的资金搁置，并提供搁置的加密收据。这些收据包含资金搁置的加密证明，但不包含关于银行、交易方或付款细节的任何信息。

一旦验证器收到证据证明两家银行都将资金搁置，它就会启动资金结算，指示两个分类账释放并转移搁置的资金。这是一个原子过程，意味着两个异地银行结算的交易同时发生，从而消除了结算的风险。

其中，交易细节保密，只对交易银行公开，而验证器只用于验证是否满足某些条件（比如是否有可用的资金用于交付）。

一旦交易在两个xCurrent分类账上结算，欧元银行就将收取5欧元的费用，并将100欧元交付至B公司的账户。

一旦资金到达B公司的账户，美元银行就会接到通知，可以立刻向A公司提供付款确认信息（见图A-5）

![image-20210409191952704](C:\Users\jiaoj\Desktop\current\rorrim\static\images\image-20210409191952704.png)

